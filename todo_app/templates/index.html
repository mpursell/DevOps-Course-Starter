{% extends "layout.html" %}
{% block title %}To-Do App{% endblock %}

{% block content %}

  <div class="jumbotron">
    <h1 class="display-4">To-Do App</h1>

    <div class="row pb-4 pt-4">

      <div class="col-md-8">
        <form class="form-inline" action ='/add' method='POST'>
            
              <div class="form-group pr-2">
                <input type="text" class="form-control" name='title' placeholder='New task title' required> 
              </div>
              <div class="form-group pr-2">
                <input type="text" class="form-control" name='description' placeholder="Description" required> 
              </div>
              <div class="form-group pr-2">
                <select class="form-control" name="listName">
                  <option value="To-Do">To-Do</option>
                  <option value="Doing">Doing</option>
                  <option value="Done">Done</option>
                </select>
              </div>
              {% if view_model.user_role == 'writer' %}
                <button type="submit" class="btn btn-primary"><b>Create Task</b></button>
              {% endif %}
        
        </form>
      </div>
    </div>
  
  </div>
  <container>
    
    <div class="row">
      <div class="col-md">

        <h4>To-do</h4>
        {% for card in view_model.items %}
          {% if card.listName == 'To-Do'%} 
            <!--<b>ID: </b>{{card.idShort}}</br>-->
            <b>Task Name: </b><a href = "{{url_for('get_Task', taskId=card.id, taskName=card.name, taskListName=card.listName, taskDescription=card.description)}}">{{card.name}}</a></br>
            <b>Task Description: </b>{{card.description}}</br>
          </li>
          <br>
            {% endif %}
          {% endfor %}
        </ul>
        </div>
        <div class="col-md">
        <h4>Doing</h4>
        {% for card in view_model.items %}
        {% if card.listName == 'Doing'%} 
        <!-- <b>ID: </b>{{card.idShort}}</br>-->
          <b>Task Name: </b><a href = "{{url_for('get_Task', taskId=card.id, taskName=card.name, taskListName=card.listName, taskDescription=card.description)}}">{{card.name}}</a></br>
          <b>Task Description: </b>{{card.description}}</br>
        </li>
        <br>
          {% endif %}
        {% endfor %}
      </ul>
      </div>

      <div class="col-md">
        <h4>Done</h4>
        {% for card in view_model.items %}
        {% if card.listName == 'Done'%}
          <!--<b>ID: </b>{{card.idShort}}</br>-->
          <b>Task Name: </b><a href = "{{url_for('get_Task', taskId=card.id, taskName=card.name, taskListName=card.listName, taskDescription=card.description)}}">{{card.name}}</a></br>
          <b>Task Description: </b>{{card.description}}</br>
        </li>
        <br>
          {% endif %}
        {% endfor %}
      </ul>
        </ul>
      </div>
          
  
      </div>
    </div>
  </container>
{% endblock %}